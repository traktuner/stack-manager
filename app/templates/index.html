{% extends "base.html" %}

{% block content %}
<section id="actions">
    <div class="grid">
        <button class="secondary" hx-post="/api/stacks/upgrade" hx-target="#command-output" hx-swap="innerHTML">
            Upgrade All
        </button>
        <button class="secondary" hx-post="/api/stacks/pull" hx-target="#command-output" hx-swap="innerHTML">
            Pull All
        </button>
        <button class="secondary outline" hx-post="/api/cleanup" hx-target="#command-output" hx-swap="innerHTML"
                hx-confirm="Run docker system prune? This removes unused images, containers, and volumes.">
            Cleanup
        </button>
    </div>
</section>

<section id="stack-list" hx-get="/api/stacks" hx-trigger="load, every 10s" hx-swap="innerHTML">
    <article aria-busy="true">Loading stacks...</article>
</section>

<section id="output-section">
    <details open>
        <summary>Command Output</summary>
        <div id="command-output">
            <pre class="output-pre">No command running.</pre>
        </div>
    </details>
</section>
{% endblock %}
